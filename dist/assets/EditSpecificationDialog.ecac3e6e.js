import{u as n,Y as R,R as N,a as O,r as l,m as i,I as c,P as x,j as P,E as _,c as E,T as h,d as v,e as L,_ as U,s as j,$ as X}from"./index.f3b49b4d.js";function K(){var d,p,T;const{permissions:f}=n(L),g=R(),t=f.get(N.SPECIFICATION),y=n(U),s=n(j),D=O(X),[u,m]=l.exports.useState([...s.keys()][0]),A=[{caption:"\u041A\u043E\u0434",sorted:!0},{caption:"\u041D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435",sorted:!0},{caption:"\u0415\u0434",sorted:!0},{caption:"\u041A\u043E\u044D\u0444-\u0442",sorted:!0}],r=[];s.forEach((e,a)=>r.push({key:a,data:[e.code,e.name,y.get(e.units),`${e.coef}`]}));const S=[{title:"\u041D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435:",value:((d=s.get(u))==null?void 0:d.name)||"",message:i.ENTER_CAPTION,inputType:c.TEXT},{title:"\u041A\u043E\u044D\u0444-\u0442:",value:((p=s.get(u))==null?void 0:p.coef)||0,message:i.ENTER_COEF,inputType:c.TEXT,propertyType:x.POSITIVE_NUMBER},{title:"\u041A\u043E\u0434:",value:((T=s.get(u))==null?void 0:T.code)||"",message:i.ENTER_CODE,inputType:c.TEXT}];return l.exports.useEffect(()=>{t!=null&&t.Read||g("/")},[t]),P(_,{children:[E(h,{header:A,content:r,onSelectRow:e=>m(e)}),(t==null?void 0:t.Create)||(t==null?void 0:t.Update)||(t==null?void 0:t.Delete)?E(v,{items:S,onUpdate:async(e,a)=>{const{units:C,charType:I,...o}=s.get(u);return e[0]&&(o.name=a[0]),e[1]&&(o.coef=+a[1]),e[2]&&(o.code=a[2]),await D({id:u,units:C,charType:I,...o})}}):E("div",{})]})}export{K as default};
