import{u as n,Y as R,R as N,a as O,r as f,m as i,I as c,P as x,j as P,E as _,c as E,T as h,d as v,e as L,_ as U,s as j,$ as X}from"./index.fd584dc0.js";function K(){var d,p,T;const{permissions:g}=n(L),y=R(),t=g.get(N.SPECIFICATION),D=n(U),s=n(j),l=O(X),[u,m]=f.exports.useState([...s.keys()][0]),A=[{caption:"\u041A\u043E\u0434",sorted:!0},{caption:"\u041D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435",sorted:!0},{caption:"\u0415\u0434",sorted:!0},{caption:"\u041A\u043E\u044D\u0444-\u0442",sorted:!0}],r=[];s.forEach((e,a)=>r.push({key:a,data:[e.code,e.name,D.get(e.units),`${e.coef}`]}));const S=[{caption:"\u041D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435:",value:((d=s.get(u))==null?void 0:d.name)||"",message:i.ENTER_CAPTION,type:c.TEXT},{caption:"\u041A\u043E\u044D\u0444-\u0442:",value:((p=s.get(u))==null?void 0:p.coef)||0,message:i.ENTER_COEF,type:c.TEXT,propertyType:x.POSITIVE_NUMBER},{caption:"\u041A\u043E\u0434:",value:((T=s.get(u))==null?void 0:T.code)||"",message:i.ENTER_CODE,type:c.TEXT}];return f.exports.useEffect(()=>{t!=null&&t.Read||y("/")},[t]),P(_,{children:[E(h,{header:A,content:r,onSelectRow:e=>m(e)}),(t==null?void 0:t.Create)||(t==null?void 0:t.Update)||(t==null?void 0:t.Delete)?E(v,{items:S,onUpdate:async(e,a)=>{const{units:C,charType:I,...o}=s.get(u);return e[0]&&(o.name=a[0]),e[1]&&(o.coef=+a[1]),e[2]&&(o.code=a[2]),await l({id:u,units:C,charType:I,...o})}}):E("div",{})]})}export{K as default};
